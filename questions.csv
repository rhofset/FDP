Sections:;Subsection:;Number:;Question:;Answer:
Notes;Notes;1;How do you think making notes during the tutorial will benefit you?;No answer given. Personal statement from the student. The student gives a short statement of why taking notes is beneficial (or not) when doing a tutorial.
Preparation;OPNSense;2;What is a hashsum?;A hash is a value that is calculated from the file. It is used to verify data authenticity. If a hash is calculated on a file, it will never change unless the file is changed. If the values do not match, check if you did it correct. 
Preparation;OPNSense;3;Did your hash values match?;In Windows: Start and CMD or PowerShell prompt and use the command: \cmd{certutil -hashfile <NAME OF YOUR FILE> In Ubuntu: Start your terminal and use the following command: \cmd{sha256sum <NAME OF YOUR FILE>}
Preparation;Create a virtual network in Vmware;4;Why do you create a virtual network?;If this were a physical lab, you would have used switches, cables, and other network devices to create a physical network, to make the clients talk to each other. When it is done virtualized, you need the same, but the virtual network is emulating those physical devices in your network. Another reason is that you are now segregating the network from your original host network.
Preparation;The first configuration of the firewall;5;What does the \cmd{em} in the network card stand for?;em references to the manufacturer of the network adapter. em = intel and for example bge = broadcom
Preparation;The first configuration of the firewall;6;Why did you remove the checkmark for RFC1918 Networks?;Since the IP's you are using are private IP's you need to remove the checkmark. If you do not remove it, IP's that are private cannot be used. \url{https://tools.ietf.org/html/rfc1918}.
Preparation;The first configuration of the firewall;7;Can you ping your firewall from your client?;Use the ping command. \cmd{ping 192.168.20.1}. On Linux, use \cmd{CTRL + C} to stop the ping command or use the \cmd(-c 3) to limit the amount of ping sent to three (3).
General Administration;Login up SSH with no password;8;What is key-size?;Key-size is the lengt of bits that is used by the algorithm when generating cryptographic keys.
General Administration;Login up SSH with no password;9;What is the difference between a private key and a public key?;Private key is your key and must be keept secret. The public key is the key that can be shared and given to for example a server that you want to login to.
General Administration;Password Reset;10;What does the \cmd{Password protect the console menu} checkbox in \cmd{System -> Settings -> Administration} in the web GUI do?;It makes it impossible to change the password, without having physical access to the firewall.
General Administration;Ping;11;Try to ping your client. Do you get something similar to figure \ref{opensense:admin_ping}?;Answered in the section. See figure \ref{opensense:admin_ping}
Firewall Rules;Firewall rules;12;Why do you think the action \cmd{Reject} is mostly used on so-called friendly networks?;To save time for the client that is trying to connect, it is important that the client knows that the request is blocket. This can save time for thrubleshooting.
Firewall Rules;Creating the first rule;13;Try now to \cmd{PING} the same website as you did in bullet point 4. What is happening?;If it is done correct, you are not able to ping any web sites.
Firewall Rules;Creating the first rule;14;How can you disable the rule that was created?;By cliking on the red cross in the overview of the fierwall rules.
Firewall Rules;Creating the first rule;15;Are you able to ping any website when the rule is disabled?;Yes
Firewall Rules;Logging;16;Do you see any evidence in the log when the rule that was created earlier is active?;It should be possible to see somting like figure \ref{opnsense:logging_blocked_internet_access} in the log.
Firewall Rules;Second rule;17;How can you test if this is working?;See \ref{python_server}
Firewall Rules;Second rule;18;Play around and try to create other rules.;
Firewall Rules;Time-based rules;19;Where in the rule editor page can you add the time-based rule?;When the time-based rules is created, it is possible to choose it under the \cmd{Schedule} options almost at the bottom of the rule edit page.
Firewall Rules;Time-based rules;20;Try to create a schedule and add it to a rule that blocks access to \cmd{www.nrk.no} inside the normal working hours (08.00 - 16.00).;
Firewall Rules;GeoIP;21;Can you create a firewall rule that uses the alias you created to block one country?;
Firewall Rules;GeoIP;22;How can you test if the previous create rule is working?;
Firewall Rules;Throubleshooting rules;23;Is it possible to do a packet capture with \opnsense?;Yes it is possible. Goto \cmd{Interfaces --> Diagnostics --> Live View --> Packet Capture}.
NAT;Outbound;24;What is outbound NAT?;"Easy explained; it translate the internal IP in packets to the WAN ip on outgoing packets, and reverse on incomming packets."
NAT;Outbound;25;Is it working?;Try to browse the internet.
NAT;Port Forwarding;26;What does port forward do?;Expose a service that is run on a internal IP address to a port on the WAN side of your network.
NAT;Port Forwarding;27;What can be done to improve the security when port forwarding is used?;Set up firewall rules, use https instead of http and general hardening for the service and the server.
Management interface;;28;Why would you put the management of the firewall and other network devices on a separate network?; When it is on its own network, it will not slow down or fail during periodes with high load on the firewall.
Bandwidth;Bandwidth;29;Test the configuration you have made, using a site that can do speedtests. Do you get the same result as in figure \ref{opnsense:bandwidth_speed}?;Answer is given in the question.
Bandwidth;Bandwidth;30;How can you use this rule against on IP instead of all on the interface?;Change the Source and Destination in the \cmd{Firewall --> Shaper --> Rule} to the IP you want to limit.
Bandwidth;Bandwidth;31;There is also one more configuration that can be done, \cmd{queues}. What does it do?;It can be used to creates flow (one or multiple) in a pipe. It can prioritize which flow in a pipe is getting access to the bandwidth first or need to wait. Can also choose how the bandwith in the pipe is divided, by source or destination. Mainly pipes is used to hard limits, and queues to give hosts different share of the flow in a pipe.
Bandwidth;Bandwidth;32;Why would you prioritize some traffic over other traffic?;A good example could be IP telephone. You would prioritize the IP telephone over for example a user that is streaming something or downloading something. This will be useful especially if there are a lot of users or the ISP cannot deliver a fast line.
Bandwidth;Queue;33;How can you test if the queue is working?;Create a pipe. Then create 2 queues. It is important that they are weighted different. Then create one rule for each of the queues that was created. When the rules are created, use  different protocols. For example ftp, http or somehting else. To test this, start something that creates traffic for the protocol that has the highest weight first, and see what happens when you starts to create traffic on the other protocol. A good ide is to use for example http/https on the rule with the high weight (easy to start a download to saturate the pipe.).
VPN;Export;34;Find the \opnsense\ WAN IP address and try to access it from your host. Does it work?;Find the WAN IP address on the \cmd{Lobby --> Dashboard} page on your firewall, and insert https:// before the WAN IP when trying from the host machine.
VPN;Configure the client;35;Did you manage to connect to the firewall?;If you managed to connect, you will see it in the \cmd{VPN --> OpenVPN --> Connection Status} page.
VPN;Configure the client;36;What is the minimum recommended key size for RSA encryption?;NIST (National Institute of Standards and Technology) recommends at least 2048 bits (\cite{Barker}). This recommendation can be different in other organisations and will be higher when years go by.
Proxy;URL filtering;37;What are regular expressions?;Regular expressions is used to match patterns in a string.
Proxy;URL filtering;38;What is the difference between using \cmd{nrk.no} and \cmd{https://www.nrk.no} when filtering?;The difference is that it filters on exact string that is used. So \cmd{nrk.no} will be found everywher in the url, versus \cmd{https://www.nrk.no} will be only found first in a url. 
Proxy;URL filtering;39;How can you use a whitelist instead of a blacklist? ;Insert a \cmd{.} in the blacklist and start using the whitelist.
Proxy;Category filtering;40;Use some time and see if you can find another lists that can be used.;Explore the lists.
Proxy;Category filtering;41;How can you test if the Shallalist is working? Just explain it, do not try to do it.;WARNING: A solution can be to og to a page that is in the block list. THIS IS NOT RECOMENDED!!
Proxy;Category filtering;42;How can you configure \opnsense\ to automaticly update the rule list?;Use the \cmd{Schedule with Cron} button to create a scheduling task.
Proxy;Proxy logs;43;Explorer the three logs and explain what they log.;This is logfile from Squid. \cmd{Cache log} is the cache.log file. It stores information about configuration, warnings and errors. \cmd{Access log} is the access.log file. It is used to store client requests. And the  \cmd{Store log} is the store.log file. It store the decisions made by Squid to store and remove objects from the cache.
IDS;Setup IDS rule;44;Try to test the IDS using a EICAR rule that has a \textbf{https} (\url{https://secure.eicar.org/eicar.com.txt})? Why do you think it is not working?;The IDS cannot see data that is in a encrypted packet, since the encryption/decryption is happening on each endpoint. If the firewall should inspect encrypted packets a proxy need to be configured.
IDS;Setup the IPS;45;Try to add the OPNsense social media ruleset and go to one of the wll known social media sites. What happens in the log?;If you goto \url{https://facebook.com} you will get multiple alerts in your log.
DNS;;46;What does DNS do?;DNS makes it easier to navigate the internet. Instead of remembering each individual IP address, you can remember a name. DNS translate Ips to human readble names.
DHCP;;47;Can you explain what DHCP is?;DHCP is a service that gives Ips to each device that is connected.
Routing;Routing;48;How could you check if routing is working?;Using the ping command, see \ref{ping} and disable packet filtering, see \ref{pk_capture}.
Reporting;NetfFlow;49;When is it useful to use a external NetFlow collector?;When there are multiple sources of data, that is merged together. For example, a company that has multiple firewalls and maybe servers that can send NetFlow data.
Reporting;NetfFlow;50;Play around with the export function and see if you can find some opensource tool and import the data too.;A cool opensource tool is https://github.com/robcowart/elastiflow.
